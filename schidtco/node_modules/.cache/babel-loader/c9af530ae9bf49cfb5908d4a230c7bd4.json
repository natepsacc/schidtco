{"ast":null,"code":"const initS3 = require('../utils/init-s3');\n\nconst getBucketList = require('../utils/get-bucket-list'); // const getBucketHash = require('../utils/get-bucket-hash');\n\n\nconst listBuckets = async _ref => {\n  let {\n    apiKey,\n    apiSecret\n  } = _ref;\n\n  try {\n    const s3 = initS3(apiKey, apiSecret);\n    const buckets = await getBucketList(s3);\n    const promises = buckets.map(async (bucket, index) => {\n      // const hash = await getBucketHash(bucket);\n      return {\n        name: bucket // hash,\n\n      };\n    });\n    return Promise.all(promises);\n  } catch (error) {\n    throw error;\n  }\n};\n\nmodule.exports = listBuckets;","map":{"version":3,"names":["initS3","require","getBucketList","listBuckets","apiKey","apiSecret","s3","buckets","promises","map","bucket","index","name","Promise","all","error","module","exports"],"sources":["/Users/schidtery/Desktop/schidtco/schidtco/schidtco/node_modules/@fleekhq/fleek-storage-js/methods/listBuckets.js"],"sourcesContent":["const initS3 = require('../utils/init-s3');\nconst getBucketList = require('../utils/get-bucket-list');\n// const getBucketHash = require('../utils/get-bucket-hash');\n\nconst listBuckets = async ({\n  apiKey,\n  apiSecret,\n}) => {\n  try {\n    const s3 = initS3(\n      apiKey,\n      apiSecret,\n    );\n\n    const buckets = await getBucketList(s3);\n\n    const promises = buckets.map( async(bucket, index) => {\n      // const hash = await getBucketHash(bucket);\n\n      return ({\n        name: bucket,\n        // hash,\n      })\n    });\n\n    return Promise.all(promises);\n\n  } catch(error) {\n    throw error;\n  }\n};\n\nmodule.exports = listBuckets;\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,kBAAD,CAAtB;;AACA,MAAMC,aAAa,GAAGD,OAAO,CAAC,0BAAD,CAA7B,C,CACA;;;AAEA,MAAME,WAAW,GAAG,cAGd;EAAA,IAHqB;IACzBC,MADyB;IAEzBC;EAFyB,CAGrB;;EACJ,IAAI;IACF,MAAMC,EAAE,GAAGN,MAAM,CACfI,MADe,EAEfC,SAFe,CAAjB;IAKA,MAAME,OAAO,GAAG,MAAML,aAAa,CAACI,EAAD,CAAnC;IAEA,MAAME,QAAQ,GAAGD,OAAO,CAACE,GAAR,CAAa,OAAMC,MAAN,EAAcC,KAAd,KAAwB;MACpD;MAEA,OAAQ;QACNC,IAAI,EAAEF,MADA,CAEN;;MAFM,CAAR;IAID,CAPgB,CAAjB;IASA,OAAOG,OAAO,CAACC,GAAR,CAAYN,QAAZ,CAAP;EAED,CAnBD,CAmBE,OAAMO,KAAN,EAAa;IACb,MAAMA,KAAN;EACD;AACF,CA1BD;;AA4BAC,MAAM,CAACC,OAAP,GAAiBd,WAAjB"},"metadata":{},"sourceType":"script"}